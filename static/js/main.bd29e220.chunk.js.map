{"version":3,"sources":["components/Modal.js","components/PhotoCard.js","components/Galary.js","services/image-api.js","components/Loader.js","components/ErrorNotification.js","components/SearchForm.js","components/NotfoundImage.js","components/App.js","index.js","img/img.png"],"names":["MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","e","code","props","onClose","handleBackdropClick","current","target","window","addEventListener","this","removeEventListener","children","createPortal","className","ref","onClick","role","Component","PhotoCard","state","isModalOpen","openModal","setState","closeModal","webformatURL","likes","views","downloads","comments","largeImageURL","alt","src","type","defaultProps","Galary","images","map","el","key","id","fetchImages","query","pageNumber","fetch","then","res","json","data","hits","LOADER_ROOT","Loader","ErrorNotification","message","SearchForm","handleChange","value","handleKey","preventDefault","onSearch","onKeyPress","autoComplete","placeholder","onChange","NotfoundImage","img","App","isLoading","error","fetchImage","imageAPI","catch","finally","GoToTop","scrollTo","top","behavior","prevProps","prevState","body","scrollHeight","length","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bd29e220.chunk.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst MODAL_ROOT = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div\n        className=\"backdrop\"\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n        role=\"presentation\"\n      >\n        <div className=\"modal\">{children}</div>\n      </div>,\n      MODAL_ROOT,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from './Modal';\n\nexport default class PhotoCard extends Component {\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    alt: PropTypes.string,\n  };\n\n  static defaultProps = {\n    alt: 'image',\n  };\n\n  state = {\n    isModalOpen: false,\n  };\n\n  openModal = () => {\n    this.setState({ isModalOpen: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  render() {\n    const {\n      webformatURL,\n      likes,\n      views,\n      downloads,\n      comments,\n      largeImageURL,\n      alt,\n    } = this.props;\n    const { isModalOpen } = this.state;\n\n    return (\n      <li>\n        <div className=\"photo-card\">\n          <img src={webformatURL} alt={alt} />\n          <div className=\"stats\">\n            <p className=\"stats-item\">\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className=\"stats-item\">\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n            <p className=\"stats-item\">\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n            <p className=\"stats-item\">\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={this.openModal}\n            className=\"fullscreen-button\"\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n          {isModalOpen && (\n            <Modal onClose={this.closeModal}>\n              <img src={largeImageURL} alt={alt} />\n            </Modal>\n          )}\n        </div>\n      </li>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from './PhotoCard';\n\nconst Galary = ({ images }) => {\n  return (\n    <ul className=\"gallery\">\n      {images.map(el => (\n        <PhotoCard\n          key={el.id}\n          webformatURL={el.webformatURL}\n          likes={el.likes}\n          views={el.views}\n          comments={el.comments}\n          downloads={el.downloads}\n          largeImageURL={el.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n};\n\nGalary.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      likes: PropTypes.number,\n      views: PropTypes.number,\n      comments: PropTypes.number,\n      downloads: PropTypes.number,\n    }),\n  ).isRequired,\n};\n\nexport default Galary;\n","export const fetchImages = (query, pageNumber) => {\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=14062645-02e0e5cefe0f6e0703dab69b4`,\n  )\n    .then(res => res.json())\n    .then(data => data.hits);\n};\n","import React from 'react';\nimport { createPortal } from 'react-dom';\n\nconst LOADER_ROOT = document.querySelector('#loader-root');\n\nconst Loader = () =>\n  createPortal(\n    <div className=\"loader\">Waiting! Page is loading...</div>,\n    LOADER_ROOT,\n  );\n\nexport default Loader;\n","import React from 'react';\n\nconst ErrorNotification = message => <div>Error: {message}</div>;\n\nexport default ErrorNotification;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSearch: PropTypes.func.isRequired,\n  };\n\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleKey = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      this.props.onSearch(this.state.query);\n      this.setState({ query: '' });\n    }\n  };\n\n  render() {\n    const { handleKey, query, handleChange } = this.state;\n\n    return (\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n      <form className=\"search-form\" onKeyPress={handleKey}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={query}\n          onChange={handleChange}\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport img from '../img/img.png';\n\nconst NotfoundImage = () => (\n  <div>\n    <img src={img} className=\"img\" alt=\"img_not_found\" />\n  </div>\n);\n\nexport default NotfoundImage;\n","import React, { Component } from 'react';\nimport Galary from './Galary';\nimport * as imageAPI from '../services/image-api';\nimport Loader from './Loader';\nimport ErrorNotification from './ErrorNotification';\nimport SearchForm from './SearchForm';\nimport NotfoundImage from './NotfoundImage';\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    pageNumber: 1,\n    query: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const query = this.state;\n\n    if (prevState.query !== query) {\n      this.fetchImage();\n    }\n    if (prevState.query !== query) {\n      this.GoToTop();\n    }\n\n    window.scrollTo({\n      top: document.body.scrollHeight,\n\n      behavior: 'smooth',\n    });\n  }\n\n  onSearch = query => {\n    this.setState({ query, images: [], pageNumber: 1, isLoading: true });\n  };\n\n  fetchImage = () => {\n    const { query, pageNumber } = this.state;\n    this.setState({ isLoading: true });\n    imageAPI\n      .fetchImages(query, pageNumber)\n      .then(images => {\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(error => {\n        this.setState({\n          error,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  GoToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchForm onSearch={this.onSearch} />\n        {error && <ErrorNotification message={error.message} />}\n        {isLoading && <Loader />}\n        {images.length <= 0 && <NotfoundImage />}\n        {images.length > 0 && <Galary images={images} />}\n        {images.length > 0 && (\n          <button\n            type=\"button\"\n            className=\"buttonLoadMore\"\n            onClick={this.fetchImage}\n          >\n            Load more\n          </button>\n        )}\n        {images.length > 0 && (\n          <button\n            type=\"button\"\n            className=\"buttonGoToTop\"\n            onClick={this.GoToTop}\n          >\n            Go to top\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/img.551642c8.png\";"],"sourceRoot":""}